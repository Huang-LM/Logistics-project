## 表

- [x] 【update】user表：需要添加一个审核项verify，若是用户登录时需先检测是否审核通过。默认为0
- [x] 【update】所有表的创建时间和更新时间的格式统一。
- [x] 【add】新增物流信息表 sys_logistics_info，用户物流关系表 sys_user_logistics，数据字典表sys_dictionaries，sys_logistics_state(物流信息-状态关系表)，sys_state（物流状态表）。
- [x] 【update】所有表的创建时间取消按照当前时间戳填写。
- [x] 【add】物流表新增项：寄件人姓名，收件人姓名，备注

## 页面（这里是前端的）

- [x] 【add】个人信息编辑：所有账号都可以自己重制更新个人密码及个人信息。
- [x] 【add】用户审核页面：审核用户的页面。
- [x] 【add】货物查询页：ship/shipInquiry
- [x] 【add】审核货物页:  shipManager/reviewGoods
- [ ] 【add】货物信息管理页: shipMessage/recordedInfo
- [ ] 【add】货物统计页: echarts/goodsStatistics
  - 统计不同运输方式所占用的时间（不同运输方式需要几天才可以运达）
- [ ] 【add】货流高峰页：echarts/goodsPeck
  - 统计每月订单数和地区订单数
  - 统计每个季度订单数和地区订单数

## 接口

- 用户模块（user模块）
  - [x] 【update】用户登录接口：检测账号审核值是否为1，并给出判断，比如code为0代表账号还未审核。
  - [x] 【update】分页查询用户接口：需要添加查询条件——id，用户名，电话，性别，用户角色（这些都是非必选）。同时查找出来的角色列表中也需要包含该用户的角色，审核状态。
  - [x] 【update】注册用户接口：需要添加用户角色项（实现对用户和角色的绑定）和用户审核值项，创建时间由后端来填写。（公司内部职员：管理员、物流管理员、信息服务员没有自己注册的途径，只有管理员来注册并审核）
  - [x] 【update】更新数据接口：新增更新用户角色，角色审核状态的功能。
  - [x] 【add】更新个人信息接口：输入旧的密码确认过后重置密码。
  - [x] 【add】用户查询接口：查询某id的用户的个人信息（包括角色）
  - [x] 【add】用户审核接口：单独对用户的审核状态进行调节的接口。
- 角色模块
  - [x] 【add】增加用户时，增加用户—角色
  - [x] 【add】遍历角色列表
  - [x] 【add】遍历用户-角色列表
  - [x] 【add】新增角色
  - [x] 【add】更新用户角色
  - [x] 【add】删除角色
  - [x] 【add】更新角色权限：就是更新这个角色可以展示的侧边栏
  - [x] 【add】查询所有菜单：把menu表中所有菜单的查询出来（需嵌套）
  - [x] 【add】查询角色所拥有的菜单：通过角色的id查看其所拥有的菜单（需嵌套，不过前面应该都做出来了）
  - [x] 【update】更新角色权限：前端会传输角色id和一个数组，数组中包括这个角色所勾选的所有menu_id，根据这个menu_id更新role_menus表里的数据。（这里我一开始不是太清楚，后面琢磨了element之后发现得这样弄，不过也能实现，就把数据库中和角色id相同的都删了然后再把数组里的每一条menu_id和角色id绑定）
- 数字字典模块（以type类作为第一级，父id为0，然后根据需要再以type类的某一项为父id创建新的子id）
  - [x] 【add】查找所有父id为0的数据列表
  - [ ] ~~【add】按type条件查找数据列表~~
  - [x] 【add】查找某个id下对应的子id的数据列表
  - [x] 【add】查找某数据名的子id数据列表
  - [x] 【add】新增字典数据
  - [x] 【add】删除某个id的数据
  - [x] 【add】更改某个id的信息
- 物流模块

  - [x] 【update】发送寄件申请

  - [x] 【add】查询某物流编号的物流信息：用户根据物流编号可以查询该物流的信息。
  - [x] 【add】查询某id的物流信息：用户可以查询和自己账号相绑定的物流信息。
  - [x] 【add】查看所有物流信息列表（寄件申请列表，全都查出来的，或者可以和按条件查询的整合成一个接口，那些条件都为空的就是全查）
  - [x] 【add】按条件查询物流信息列表（审核值，运输方式，寄件地址，收货地址）（可整合）
  - [x] 【add】删除物流信息
  - [x] 【add】同意/拒绝寄件：同意后初始化物流状态。
  - [x] 【add】更新物流信息：可以更新物流表的信息。（主要用于物流信息员填写运输方式和后续信息服务员填写预计到达时间用的），
  - [x] 【add】新增物流状态：用于信息服务员记录货物状态
  - [x] 【add】查询物流状态列表：查询出这个物流的所有物流状态
- 数据分析模块（根据echarts表格所需要的形式来展示，要么就是前端来处理筛选数据）
  - [ ] 【add】查询统计不同运输方式所占用的平均时间
  - [ ] 【add】查询统计每月订单数和地区订单数
  - [ ] 【add】查询统计每个季度订单数和地区订单数





## 一些小问题

- [x] 关于不同角色获取不同菜单的功能有点问题
- [x] 条件查询用户和查询用户列表的整合
- [x] 查询用户列表的时候还需要查询出用户的角色
- [x] 查询用户的附加条件的时候的输入值或许可以允许""的形式查询



## 关于物流的流程（之后画流程图？）

1. 货主注册账号
2. 货主申请寄件：填写物流运输方式，货物类型，寄件人姓名，寄件人电话，寄件地址，收件人姓名，收货人电话，收货地址，可填备注。（程序自动填写审核值为审核中，创建时间）
3. 物流管理员审核寄件请求：
   - 决定是否通过（审核值应该要多一点状态：审核中，通过，未通过）。
   - 通过后填写物流编号（或者自动生成，比如直接用时间戳来做编号），
   - 填写安排运输的工具（填写物流运输工具编号，比如啥国航CY12345这种）
   - 同时生成物流状态，自动初始化物流状态为待揽收啊之类的事件
4. 信息服务员填写预计到达时间和更新物流状态。（更新状态时是相当于一个状态一行数据那种，类似于时间线一样的，需要可以查询一个物流的全部状态。）
   - 货主可根据物流编号查询自己的货物到哪了（同时会通过浏览器储存寄出的订单号可以快捷查询）



## 关于数字字典（如果做的话）

就是相当于是管理系统中的那些下拉菜单的一个表，根据type可以区分各个不同下拉菜单的内容，比如：

- 现在开放的港口：天津港，山东港……
- 支持的货运方式：空运，海运，游泳运，火箭运，太空运（这个好像也没啥啊）
- 公司现有的运输工具编号：
  - 空运的有：国航飞机CAxxxx，直升机NA-1231
  - 海运的：辽宁号，大客船，大邮轮
  - 火箭型号：东风
- 。。。。

不过考虑到目前的数据库连接过于缓慢，可做可不做，但是也可以是在最后都做完之后，把那个云数据库导出到本地，后端连接本地的确保稳定性



## 关于角色菜单分配的问题

系统中的侧边菜单栏就是固定就那么多个了，相关操作就是对新建角色或者老角色进行侧边栏的分配而已了。

## 后续规划

- 验证码：手机登录验证码，忘记密码找回的验证码（或者邮件也行）
- shiro